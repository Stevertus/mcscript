<p><img src="https://i.imgur.com/YedWe7W.png" alt=""></p>
<h1 id="minecraft-script-documentation">Minecraft Script Documentation</h1>
<blockquote>
<p>Update 0.1.4: <a href="https://github.com/Stevertus/mcscript/releases">All Changes</a></p>
</blockquote>
<p>Minecraft Script is a programming language for developers of mcfunctions, Minecraft maps and packages. The .mcscript files are therefore compiled and generated to the function format. This enables the developer extended possibilities, such as Modals, Loops, Varibles, Constants and Command-Wrapping.</p>
<p>Everyone who wants to try, can visit my playground <a href="http://www.stevertus.ga/tools/mcscript">stevertus.ga/tools/mcscript</a> and can play with its function.</p>
<p>German documentation <a href="https://github.com/Stevertus/mcscript/blob/master/README-DE.md">here</a></p>
<h2 id="table-of-contents">Table of Contents</h2>
<ol>
<li><a href="#install">Installation</a>
<ul>
<li><a href="#install-nodejs">Installation of Node.js</a></li>
<li><a href="#install-mcscript">Installation of Minecraft Script</a></li>
</ul>
</li>
<li><a href="#cli">Cli Commands</a>
<ul>
<li><a href="#cli-new">mcscript new</a></li>
<li><a href="#cli-compile">mcscript compile</a></li>
<li><a href="#cli-watch">mcscript watch</a></li>
<li><a href="#cli-add">mcscript add</a></li>
</ul>
</li>
<li><a href="#syntax">Syntax</a>
<ul>
<li><a href="#files">file setup</a></li>
<li><a href="#extend">expand files</a></li>
<li><a href="#groups">Command Grouping</a></li>
<li><a href="#vars">Variables</a></li>
<li><a href="#boolean">Boolean Variablen</a></li>
<li><a href="#consts">Constants</a></li>
<li><a href="#if">If Statements</a></li>
<li><a href="#operators">Operators</a></li>
<li><a href="#switch">Switches</a></li>
<li><a href="#for">For loop</a></li>
<li><a href="#raycast">Raycasting</a></li>
<li><a href="#while">while loops</a></li>
<li><a href="#dowhile">do-while loops</a></li>
<li><a href="#foreach">forEach loops</a></li>
<li><a href="#modals">Modals</a></li>
<li><a href="#systemModals">System Modals</a></li>
</ul>
</li>
<li><a href="#ide">IDEs and Syntax Highlighting</a><br>
<a id="install"></a></li>
</ol>
<h2 id="installation">Installation</h2>
<p>The Compiler gets offered as <a href="https://nodejs.org/en/download/">Node.js/</a> Package that is installed locally on your machine. It enables much more features than the online version<br>
For example: compile all files in a directory, direct output in new files, watch your files on changes, etc.<br>
<a id="install-nodejs"></a></p>
<h3 id="installation-of-node.js">1.1 Installation of Node.js</h3>
<p>The installation requires the Node.js environment and the Node Package Manager.</p>
<p>This is achieved the best way by using the installer: <a href="https://nodejs.org/en/download/">nodejs.org/en/download/</a><br>
Just run it and install.<br>
<a id="install-mcscript"></a></p>
<h3 id="installation-of-minecraft-script">1.2 Installation of Minecraft Script</h3>
<p>Now open your PCs console. (search CMD).</p>
<p>There you have to type in this command:</p>
<blockquote>
<p><code>npm install -g mcscript</code></p>
</blockquote>
<p>If a successful answer apears you have done everything right and can start.<br>
<a id="cli"></a></p>
<h2 id="cli-commands">CLI Commands</h2>
<p>You can now use the tool by launching the Command Line in your datapacks folder<br>
(with Shift + rightclick on directory -&gt; open command line)<br>
Now you can use the commands like that:<br>
<a id="cli-new"></a></p>
<h3 id="mcscript-new">2.1 mcscript new</h3>
<p>Creates a new datapack for you with all basic files in a scripts folder. Takes as argument the datapack id!<br>
<a id="cli-compile"></a></p>
<h3 id="mcscript-compile">2.2 mcscript compile</h3>
<p>This command converts all .mcscript files into .mcfunction format. You can read <a href="#syntax">here</a> what you can do in the mcscript files.<br>
The console displays all generated files or throws an error if something was not correct.</p>
<p>Alternatively you can use <code>mcscript compile *filepath*</code> to set an custom directory or file.<br>
<a id="cli-watch"></a></p>
<h3 id="mcscript-watch">2.3 mcscript watch</h3>
<p>This will automatically compile your code if you make any changes (save). So you do not have to enter the above command with every change.</p>
<p>Again, a path can be specified.<br>
<a id="cli-add"></a></p>
<h3 id="mcscript-add-url-or-package">2.4 mcscript add [url or package]</h3>
<p>This command adds a custom datapack to your directory.<br>
As argument an url to the resource or a <em>mcScript Extension</em> name can be used.</p>
<p>Get a list of all supported packages by running just<code>mcscript add</code></p>
<p><a id="cli-modals"></a></p>
<h3 id="dev-mcscript-modals">2.5 Dev: mcscript modals</h3>
<p>!!This command is intended only for developers who want to install their modals in the compiler.<br>
A file must be specified and then the modals out of this file are written to a configuration file.<br>
<a id="syntax"></a></p>
<h2 id="minecraft-script-syntax">Minecraft Script Syntax</h2>
<p>The code is written in files with the extension .mcscript. It is recommended to manage the files and to highlight the syntax in a code editor (IDE). explore more <a href="#ide">here</a>.</p>
<p>Unlike mcfunction, each command is injected with a “/” or “run:”.</p>
<p>Comments are announced with “//”, if comments should also appear in the new file with “#”</p>
<p>Blank lines and skipping lines are ignored.<br>
If a blank line is desired in the mcfunction, express this with a ‘#’ without a comment.<br>
Two blank lines are reached with “##”.<br>
<a id="files"></a></p>
<h3 id="file-setup">3.1 File setup</h3>
<p>The generated files have always the same name as their root.</p>
<p>A custom name can be set with <code>#file: *name*.</code><br>
Please without .mcfunction!!</p>
<p>Instead of the name, you can enter a whole path where the new file should be:</p>
<ul>
<li><code>#file: C:/test/new</code></li>
<li><code>#file: ./new</code> (in same directory)</li>
<li><code>#file: ./subfolder/new</code></li>
<li><code>#file: ../new</code> (a directory above)</li>
<li><code>#file: ../subfolder/new</code></li>
</ul>
<p>You can also specify several files:</p>
<pre><code>#file: new
//commands here
#file: two
//Commands for two
</code></pre>
<p>Also very well combinable with <a href="#loops">for-loops</a>:</p>
<pre><code>#file: new
//commands here
for(1,5){
	#file: test$(i)
	//Commands for every file here
}
</code></pre>
<p><a id="extend"></a></p>
<h3 id="extend-files">3.2 extend files</h3>
<p>A already existing file, that is generated before with <code>#file:</code>, can be expanded in other files and new code is easily attached:</p>
<pre><code>#extend: ./test
/commands here
</code></pre>
<p><a id="groups"></a></p>
<h3 id="command-grouping--wrapping">3.3 Command Grouping / Wrapping</h3>
<blockquote>
<p><code>[subcommand]([argument]){ [wrapped actions] }</code></p>
</blockquote>
<p>“as, at, positioned,align,dimension,rotated,anchored” can be grouped together:</p>
<pre><code>as(@a){
	/commands 	=&gt; /execute positioned ~ ~ ~ run command
}
</code></pre>
<p>The Argument / Arguments in the brackets have to be a string! (with ’ ’ or " ")<br>
It is also possible to use <code>asat()</code> for this:</p>
<pre><code>asat(@s){
    /commands =&gt; execute as @s at @s run commands
}
</code></pre>
<p>"Groups can be listed like so:</p>
<pre><code>as(@p), at(@s), positioned('~ ~1 ~'){
	/say command
}
==&gt; /execute as @p at @s positioned ~ ~-1 ~ run say command

// also with if
as('@p'), at('@s'), positioned('~ ~1 ~'), if(entity @s[tag=mytag]){
	/say command
}
==&gt; /execute as @p at @s positioned ~ ~-1 ~ if entity @s[tag=mytag] run say command
</code></pre>
<p><a id="vars"></a></p>
<h3 id="variablen">3.4 Variablen</h3>
<p>Like every other programming language there are variables. They are initialized as follows:<br>
<code>var test</code><br>
The variable can take in a value:</p>
<pre><code>var test = 5
# or
var test
test = 6
</code></pre>
<p>This value can be changed as often as you like.</p>
<pre><code>var test
test @s = 10
</code></pre>
<p>Values can be assigned also only to special Minecraft selector like so.<br>
Also possible with playernames and placeholders:</p>
<pre><code>test player = 10
</code></pre>
<p>Every value is saved in an independent scoreboard with it´s name or selector. So they are accessible with normal methods:</p>
<pre><code>var test
test @s = 10
/scoreboard players get @s test ==&gt; 10
/scoreboard players set @s test 5
# etc
</code></pre>
<p>Variables can be merged together:</p>
<pre><code>var test = 10
var new = 5
#  For the sake of simplicity, I start again and again with these values. The program makes it naturally different!

test += 2 ==&gt; 12
test -= 2 ==&gt; 8
</code></pre>
<p>Bit shorter:</p>
<pre><code>test++ ==&gt; test += 1
test-- ==&gt; test -= 1

test += new ==&gt; 15
test -= new ==&gt; 5
test *= new ==&gt; 50
test /= new ==&gt; 2
test %= new ==&gt; 0
</code></pre>
<p><a id="boolean"></a></p>
<h3 id="boolean-variables-tags">3.5 Boolean Variables (Tags)</h3>
<blockquote>
<p><code>bool [name] [selector](optional) = true|false</code></p>
</blockquote>
<p>Boolean values can be declared like this.<br>
<code>bool isCool = true =&gt; tag [global] add isCool</code><br>
The variable can be changed later:<br>
<code>isCool = false =&gt; tag [global] remove isCool</code></p>
<p>With <a href="#if">If</a> testable:</p>
<pre><code>if(isCool){
    /commands =&gt; execute if entity [global][tag=isCool] run commands
}
</code></pre>
<p><a id="consts"></a></p>
<h3 id="constants">3.6 Constants</h3>
<p>Another type of variable is the constant, declared as following:<br>
<code>const test = [value]</code><br>
This type cannot be changed!</p>
<p>You can use it with <code>$ (var_name)</code> somewhere in your code to avoid long strings and repetitive phrases:</p>
<pre><code>const aString = "Here can be a string"
const aNum = 5

/say $(aString)       ==&gt; /say Here can be a string
var test = $(aNum)   ==&gt; var test = 5
</code></pre>
<p><a id="if"></a></p>
<h3 id="ifelse-statements">3.6 If/Else Statements</h3>
<p>If functions are similar to grouping:</p>
<pre><code>if('statement'){
	/commands 	=&gt; /execute if statement run command
}
</code></pre>
<p>With some additional features:</p>
<ul>
<li>
<p>In front of every argument a “!” can be inserted to reverse the meaning:</p>
<pre><code>if(!'statement'){
	/commands 	=&gt; /execute unless statement run command
}
</code></pre>
</li>
<li>
<p>After the end an “else” can be attached:</p>
</li>
</ul>
<pre><code>    if('statement'){
    	/commands 	=&gt; /execute if statement run command
    } else {		   /execute unless statement run command2
    	/commands2
    }
</code></pre>
<pre><code>Important: Do not change the argument!
</code></pre>
<pre><code>    if('entity @s[tag=test]'){
    	/tag @s remove test
    } else {
    	/tag @s remove test
    }
</code></pre>
<pre><code>They are both executed!! Improved:
</code></pre>
<pre><code>    if('entity @s[tag=test]'){
    	/tag @s add testIf
    }
    if('entity @s[tag=testIf]'){
    	/tag @s remove test
    	} else {
    	/tag @s remove test
    }
</code></pre>
<ul>
<li>even “else if” is possible:</li>
</ul>
<pre><code>    if('statement'){
    	/commands 				=&gt; /execute if statement run command
    } else if('statement2') {	   /execute unless statement if statement2 run command2
    	/commands2
    }
</code></pre>
<p><a id="operators"></a></p>
<h3 id="logical-operators">3.8 Logical operators</h3>
<p>In combination with grouping and if-else statements logical operators can be used:</p>
<ul>
<li>The or operator can be used in two ways:</li>
</ul>
<pre><code>    as('@s'||'@p'){
    	/command
    }
    ==&gt; execute as @s run command
        execute at @p run command

    # or as list
    if('entity @s[tag=entity1]','entity @s[tag=entity2]'){
    	/command
    }
    ==&gt; execute if entity @s[tag=entity1] run command
        execute if entity @s[tag=entity2] @p run command
</code></pre>
<ul>
<li>The and operator is defined like so (makes only really sense with if)</li>
</ul>
<pre><code>    if('entity @s'&amp;&amp;'entity @p'){
    	/command
    }
    ==&gt; execute if entity @s if entity @p run command
</code></pre>
<ul>
<li>check variables:</li>
</ul>
<pre><code>var test = 5

# equally
if(test == 5){
    /commands
}

# greater/smaller or equal
if(test &gt;= 5){
    /commands
}

# greater/smaller
if(test &gt; 5){
    /commands
}

# also avalible as comparison
if(test &gt; test2){
    /commands
}

# or with variables with entitys
if(test @s &gt; test2 @a){
    /commands
}
</code></pre>
<p><a id="switch"></a></p>
<h3 id="switch-cases">3.9 Switch-Cases</h3>
<pre><code>switch([var_name]){
    case &lt;=|&lt;|==|&gt;|&gt;= [other_var]|[number] {
        [actions]
    },
    default(optional) {
        [default actions]
    }
}
</code></pre>
<p>Switches makes the case distinction much easier. It´s able to test easily and clearly certain variables.<br>
e.g:</p>
<pre><code>var test = 10
switch(test){
    case &gt; 10 {
        /say var is over 10
    },
    case &lt; 10 {
        /say var is under 10
    },
    default {
        /say no match
    }
}
</code></pre>
<p>Here test is checked for more than 10, if that does not apply to less than 10 and finally outputed as default.<br>
Also abbreviable:</p>
<pre><code>var test = 10
switch(test){
    case &gt; 10 run: say var is over 10
    , case &lt; 10 run: say var is under 10
    , default run: say no match
}
</code></pre>
<p><a id="for"></a></p>
<h3 id="for-loops">3.10 For-Loops</h3>
<p>One of the most helpful features is the for loop. It takes in neutral numbers.</p>
<p>From <code>first Argument</code> to <code>second Argument</code> is optional outputed as <code>third Argument</code></p>
<pre><code> for(1,5){
	/commands
	# is outputed 5 times
}
</code></pre>
<pre><code> for(1,5){
	/say $(i)
	# say with 1 - 5 is outputed 5 times
}
</code></pre>
<p>with $(var_name) the loop variable can be accessed</p>
<p>var_name is out of the box defined as “i”, but can be changed with the third argument:</p>
<pre><code>for(1,5,X){
	/say $(X)
	# say with 1 - 5 is outputed 5 times}
</code></pre>
<p>That makes especially with two-dimensional loops sence:</p>
<pre><code>for(1,5,i){
	for(1,2,j){
		/say $(i).$(j)
	}
	# say with 1.1 - 5,2 is outputed 10 times
}
</code></pre>
<p><a id="raycast"></a></p>
<h3 id="raycasting">3.11 Raycasting</h3>
<pre><code>raycast([distance](optional), [block to travel through](optional),entity | block [target](optional) ){
    [actions on hitted block or entity]
},{
    [actions for every flight step]
}
default distance = 100 Blocks
default block = air
default target = any block
</code></pre>
<p>Raycasting is a big thing in Minecraft 1.13 and provides unlimeted opportunities. But it is a bit difficult, so why not making it easier? With Minecraft Script this is really really easy now:</p>
<pre><code>raycast {
    /setblock ~ ~ ~ stone
}
</code></pre>
<p>This alone sets everywhere where you look a stone<br>
Particles and block limits are also pretty easy:</p>
<pre><code>raycast(10) {
    /setblock ~ ~ ~ stone
}, {
    /particle flame ~ ~ ~
}
</code></pre>
<p>Now there are beautiful effects and a max range of 10 blocks.<br>
The second argument sets the porous blocks.</p>
<pre><code>raycast(10,"air") {
    /setblock ~ ~ ~ stone
}
</code></pre>
<p>So the ray only goes through air.<br>
You can also negate the porous blocks and set with a “!” the not porous blocks:</p>
<pre><code>raycast(10,!"white_wool") {
    /setblock ~ ~ ~ stone
}
</code></pre>
<p>The ray goes through all blocks, but white wool.</p>
<p>As third optional argument a target can be set:</p>
<pre><code>raycast(10,"air",block "white_wool") {
    /setblock ~ ~ ~ stone
}
</code></pre>
<p>Now Mcscript knows that the target is a block and executes the command only if the block is white wool.</p>
<pre><code>raycast(10,"air",entity @e[type=armor_stand]) {
    /say test
}
</code></pre>
<p>Now Mcscript knows that the target is an entity and executes as the entity if it´s hitted.<br>
So the armor stand would say test.<br>
<a id="while"></a></p>
<h3 id="while-loops">3.12 while loops</h3>
<p>The while loop is defined like so:</p>
<pre><code>while([cond]){
    /commands
}
</code></pre>
<p>The grouped commands are executed as long as the condition [cond] is true.</p>
<blockquote>
<p>If the condition to start is not true, the grouping will not be executed!</p>
</blockquote>
<p>As a condition, all operators and arguments of the If conditions can be used. e.g.</p>
<pre><code>var test = 0
while(test &lt; 10){
    /commands here
    test += 1
}
# ==&gt; The commands are executed 10x in one tick
</code></pre>
<p>For while-loops you can also use stop and continue:</p>
<pre><code>var test = 0
while(test &lt; 10){
    test += 1
    if(test == 5){
        continue
        # If test is equal to 5 the other commands are skipped
    }
    /commands hier
    if(test &gt;= 9){
        stop
        # If test is equal to or over 5 the loop is stopped
    }
}
</code></pre>
<p><a id="dowhile"></a></p>
<h3 id="do-while-loops">3.13 do-while-Loops</h3>
<pre><code>do {
    /commands
} while([cond])
</code></pre>
<p>The do-while loop works in a similar way to the while loop, with the small difference that the code block is executed and then the condition is checked.<br>
So the loop is executed at least one time.<br>
<a id="foreach"></a></p>
<h3 id="foreach-loop">3.14 forEach-Loop</h3>
<pre><code>forEach(var [var_name] = [start value]; [var_name] ==|&gt;|&lt;|&lt;=|&gt;=|!= [other_var]|[number]; [varname]++){
    /commands
}
</code></pre>
<p>The forEach Loop is a loop found in almost any programming language.<br>
It is similar to Minecraft Script’s for-loop, but it works dynamically (it does not run on generate, but in Minecraft)</p>
<p>e.g:</p>
<pre><code>forEach(var i = 0; i &lt; 10; i++){
    /say hey
}
</code></pre>
<p>The Command is executed 10 times and the current value is saved each in the scoreboard i.<br>
Der Command wird also 10mal ausgeführt und der aktuelle Wert jeweils in dem scoreboard i gespeichert.<br>
You can also access the value like so. e.g. Faculty:</p>
<pre><code>var result = 1
forEach(var i = 2; i &lt;= 10; i++){
    result *= i
}
==&gt; result = 1 * 2 * 3 * 4 * 5 * 6 * 7 * 8 * 9 * 10
</code></pre>
<p><a id="modals"></a></p>
<h3 id="modals">3.15 Modals</h3>
<p>Modals are like functions or methods. That means you can define them:</p>
<pre><code>modal newModal(argument){
	/say $(argument)
}
</code></pre>
<p>A modal is always introduced with the keyword followed by the name and the arguments in the brackets.</p>
<p>The arguments are accessible inside with $(argument_name).</p>
<pre><code>modal newModal(argument){
	/say $(argument)
}

newModal('test')

# =&gt; say test
</code></pre>
<p>If you use the modal like that, the values are used and it outputs everything.</p>
<pre><code>modal createCommand(command,argument1,argument2){
	/$(command) $(argument1) $(argument2)
}

createCommand('say', 'hallo', 'du')

# =&gt; say hallo du
</code></pre>
<p>You are also able to use multiple arguments.</p>
<p>There are optional and predefined arguments, too:</p>
<pre><code>modal say(argument = "hallo"){
	/say $(argument)
}

say()
# =&gt; say hallo

say('test')
# =&gt; say test
</code></pre>
<p><a id="systemModals"></a></p>
<h3 id="system-modals">3.11 System Modals</h3>
<p>There are already some helpful predefined modals. Please read the specific documentation <a href="https://github.com/Stevertus/mcscript/blob/master/Core%20Modals.md">here</a>.</p>
<p>You have ideas which modals should be a standart? Send me your <a href="#ownmodal">configuration file</a> to check.<br>
<a id="ide"></a></p>
<h2 id="ides-and-syntax-highlighting">IDEs and Syntax Highlighting</h2>
<blockquote>
<p>Not available yet</p>
</blockquote>
<ul>
<li>GitHubs Atom Editor: link here (credit: <a href="https://atom.io/users/MrYurihi">MrYurihi</a>)</li>
<li>Notepad++: <a href="https://github.com/Stevertus/mcscript/blob/master/Nodepad%2B%2B%20Highlighter.xml">see code</a> | <a href="http://download1496.mediafire.com/x2k7loq5imbg/4534q4tual7zccm/Nodepad+++Highlighter.xml">download</a></li>
</ul>
<h2 id="now-there´s-nothing-left-than-happy-developing">Now there´s nothing left than: <strong>Happy Developing</strong></h2>
<p>Thanks to all who use Minecraft Script and read this documentation. Contact me if you have a proposal, problem or error.</p>
